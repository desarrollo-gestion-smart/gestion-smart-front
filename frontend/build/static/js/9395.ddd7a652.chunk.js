"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[9395],{28891:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(5574),s=t(65661),r=t(39157),l=t(51691),a=t(97123),o=t(24518),d=t(80184);function c(e){let{title:i,open:t,handleClose:c}=e;return(0,d.jsx)(n.Z,{open:t,onClose:()=>c(!1),keepMounted:!0,maxWidth:"xs","aria-labelledby":"item-delete-title","aria-describedby":"item-delete-description",children:t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.Z,{id:"item-delete-title",children:[i," - Are you sure you want to delete?"]}),(0,d.jsx)(r.Z,{children:(0,d.jsx)(l.Z,{id:"item-delete-description",children:"By deleting user story, all task inside that user story will also be deleted."})}),(0,d.jsxs)(a.Z,{sx:{mr:2},children:[(0,d.jsx)(o.Z,{onClick:()=>c(!1),color:"error",children:"Cancel"}),(0,d.jsx)(o.Z,{variant:"contained",size:"small",onClick:()=>c(!0),autoFocus:!0,children:"Delete"})]})]})})}},66789:(e,i,t)=>{t.d(i,{Z:()=>Y});var n=t(72791),s=t(73974),r=t(697),l=t(61889),a=t(36314),o=t(24518),d=t(20890),c=t(94721),x=t(48550),h=t(84648),m=t(68096),p=t(38289),u=t(85523),j=t(61419),Z=t(58406),g=t(23786),v=t(60579),P=t(71652),b=t(21193),y=t(8007),f=t(42195),w=t.n(f),I=t(92506),C=t(81846),k=t(13967),D=t(36517),S=t(77154),W=t(33608),M=t(33545),z=t(10717),F=t(31235),A=t(31400),O=t(87204),R=t(80184);const T=new M.Chance,$=e=>{let{storyId:i}=e;const t=(0,k.Z)(),s=(0,D.I0)(),{borderRadius:a}=(0,S.Z)(),{comments:d,userStory:c}=(0,D.v9)((e=>e.kanban)),[h,m]=(0,n.useState)(""),[p,u]=(0,n.useState)(!1),j=()=>{if(h.length>0){const e={id:`${T.integer({min:1e3,max:9999})}`,comment:h,profileId:"profile-1"};s((0,W.mx)(i,e,d,c)),s((0,O.ss)({open:!0,message:"Comment Add successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})),m("")}else u(!0)};return(0,R.jsx)(r.Z,{sx:{p:2.5,border:"1px solid",borderColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.primary[200]+75,borderRadius:`${a}px`},children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:.5,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsx)(x.Z,{fullWidth:!0,placeholder:"Add Comment",value:h,onChange:e=>{const i=e.target.value;m(i),i.length<=0?u(!0):u(!1)},sx:{mb:2,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent"}},onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||j()},helperText:p?"Comment is required.":"",error:p})}),(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add photo",children:(0,R.jsx)(A.Z,{})})}),(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file attachment",children:(0,R.jsx)(z.Z,{})})}),(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file or any item to google drive",children:(0,R.jsx)(F.Z,{})})}),(0,R.jsx)(l.ZP,{item:!0,xs:!0,zeroMinWidth:!0}),(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(o.Z,{variant:"contained",color:"primary",onClick:j,children:"Comment"})})]})})};var q=t(57621),E=t(22646),B=t(37267);const H=t(5242),U=e=>{let{comment:i,profile:t}=e;const n=(0,k.Z)();return(0,R.jsx)(q.Z,{sx:{background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],p:1.5,mt:1.25},children:(0,R.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(E.Z,{sx:{width:24,height:24},size:"sm",alt:"User 1",src:t&&t.avatar&&H(`./${t.avatar}`)})}),(0,R.jsx)(l.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:1,children:[(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsx)(d.Z,{align:"left",variant:"h5",component:"div",children:t.name})}),(0,R.jsx)(l.ZP,{item:!0,children:(0,R.jsxs)(d.Z,{align:"left",variant:"caption",children:[(0,R.jsx)(B.Z,{sx:{width:10,height:10,opacity:.5,my:0,mx:.625}}),t.time]})})]})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sx:{"&.MuiGrid-root":{pt:1.5}},children:(0,R.jsx)(d.Z,{align:"left",variant:"body2",children:null===i||void 0===i?void 0:i.comment})})]})})};var V=t(28891),L=t(15542),_=t(68036),G=t(80022);const K=t(5242),X=y.Ry({title:y.Z_().required("User story title is required"),dueDate:y.hT()}),Y=e=>{let{story:i,open:t,handleDrawerOpen:y}=e;const f=(0,D.I0)(),k=(0,D.v9)((e=>e.kanban)),{profiles:S,columns:M,comments:z,userStory:F,userStoryOrder:A}=k,T=(0,I.TA)({enableReinitialize:!0,initialValues:{id:i.id,title:i.title,assign:i.assign,columnId:i.columnId,priority:i.priority,dueDate:i.dueDate?new Date(i.dueDate):new Date,acceptance:i.acceptance,description:i.description,commentIds:i.commentIds,image:!1,itemIds:i.itemIds},validationSchema:X,onSubmit:e=>{f((0,W.l4)(e,F)),f((0,O.ss)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),y()}}),[q,E]=(0,n.useState)(!1);return(0,R.jsx)(s.ZP,{sx:{ml:t?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:t,ModalProps:{keepMounted:!0},onClose:()=>{y(),T.resetForm()},children:t&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(r.Z,{sx:{p:3},children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:.5,justifyContent:"space-between",children:[(0,R.jsx)(l.ZP,{item:!0,sx:{width:"calc(100% - 50px)"},children:(0,R.jsxs)(a.Z,{direction:"row",spacing:.5,alignItems:"center",children:[(0,R.jsx)(o.Z,{variant:"text",color:"error",sx:{p:.5,minWidth:32,display:{xs:"block",md:"none"}},onClick:y,children:(0,R.jsx)(G.Z,{})}),(0,R.jsx)(d.Z,{variant:"h4",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle"},children:i.title})]})}),(0,R.jsxs)(l.ZP,{item:!0,children:[(0,R.jsx)(o.Z,{variant:"text","aria-label":"Delete",color:"error",sx:{p:.5,minWidth:32},onClick:()=>E(!0),children:(0,R.jsx)(_.Z,{})}),q&&(0,R.jsx)(V.Z,{title:i.title,open:q,handleClose:e=>{E(!1),e&&(y(),f((0,W.LA)(i.id,F,A)),f((0,O.ss)({open:!0,message:"Story Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))}})]})]})}),(0,R.jsx)(c.Z,{}),(0,R.jsx)(w(),{component:"div",children:(0,R.jsx)(r.Z,{sx:{p:3},children:(0,R.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsx)("form",{onSubmit:T.handleSubmit,children:(0,R.jsx)(P._,{dateAdapter:v.H,children:(0,R.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsx)(x.Z,{fullWidth:!0,id:"title",name:"title",label:"Title",value:T.values.title,onChange:T.handleChange,error:T.touched.title&&Boolean(T.errors.title),helperText:T.touched.title&&T.errors.title})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Assign to:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(l.ZP,{container:!0,justifyContent:"flex-start",children:(0,R.jsx)(h.Z,{id:"assign",value:S.find((e=>e.id===T.values.assign))||null,onChange:(e,i)=>T.setFieldValue("assign",null===i||void 0===i?void 0:i.id),options:S,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===T.values.assign,renderOption:(e,i)=>(0,R.jsxs)(r.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,R.jsx)("img",{loading:"lazy",width:"20",src:K(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,R.jsx)(x.Z,{...e,label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Prioritize:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(m.Z,{children:(0,R.jsxs)(p.Z,{row:!0,"aria-label":"color",value:T.values.priority,onChange:T.handleChange,name:"priority",id:"priority",children:[(0,R.jsx)(u.Z,{value:"low",control:(0,R.jsx)(j.Z,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,R.jsx)(u.Z,{value:"medium",control:(0,R.jsx)(j.Z,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,R.jsx)(u.Z,{value:"high",control:(0,R.jsx)(j.Z,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Due date:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(b.$,{label:"Due Date",value:T.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{T.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Acceptance:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(x.Z,{fullWidth:!0,id:"acceptance",name:"acceptance",multiline:!0,rows:3,value:T.values.acceptance,onChange:T.handleChange,error:T.touched.acceptance&&Boolean(T.errors.acceptance),helperText:T.touched.acceptance&&T.errors.acceptance,placeholder:"Enter Your Message"})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Description:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(x.Z,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:T.values.description,onChange:T.handleChange,error:T.touched.description&&Boolean(T.errors.description),helperText:T.touched.description&&T.errors.description,placeholder:"Enter Your Message"})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"State:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(m.Z,{fullWidth:!0,children:(0,R.jsx)(Z.Z,{id:"columnId",name:"columnId",displayEmpty:!0,value:T.values.columnId,onChange:T.handleChange,inputProps:{"aria-label":"Without label"},children:M.map(((e,i)=>(0,R.jsx)(g.Z,{value:e.id,children:e.title},i)))})})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,R.jsx)(d.Z,{variant:"subtitle1",children:"Attachments:"})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,R.jsx)(C.Z,{attachments:[]})})]})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsx)(L.Z,{children:(0,R.jsx)(o.Z,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(null===i||void 0===i?void 0:i.commentIds)&&[...i.commentIds].reverse().map(((e,i)=>{const t=z.filter((i=>i.id===e))[0],n=S.filter((e=>e.id===t.profileId))[0];return(0,R.jsx)(U,{comment:t,profile:n},i)}))}),(0,R.jsx)(l.ZP,{item:!0,xs:12,children:(0,R.jsx)($,{storyId:i.id})})]})})})]})})}},79984:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(5574),s=t(65661),r=t(97123),l=t(24518),a=t(80184);function o(e){let{title:i,open:t,handleClose:o}=e;return(0,a.jsx)(n.Z,{open:t,onClose:()=>o(!1),keepMounted:!0,maxWidth:"xs","aria-labelledby":"item-delete-title","aria-describedby":"item-delete-description",children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.Z,{id:"item-delete-title",children:[i," - Are you sure you want to delete this item?"]}),(0,a.jsxs)(r.Z,{sx:{mr:2},children:[(0,a.jsx)(l.Z,{onClick:()=>o(!1),color:"error",children:"Cancel"}),(0,a.jsx)(l.Z,{variant:"contained",size:"small",onClick:()=>o(!0),autoFocus:!0,children:"Delete"})]})]})})}},81846:(e,i,t)=>{t.d(i,{Z:()=>Z});var n=t(72791),s=t(66934),r=t(12065),l=t(697),a=t(35527),o=t(13400),d=t(24518),c=t(763),x=t(80788),h=t(86711),m=t(1758),p=t(80184);const u=(0,s.ZP)("div")((e=>{let{theme:i}=e;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:i.spacing(.5),borderRadius:i.shape.borderRadius,"&:hover":{opacity:.72}}}));function j(){const[e,i]=(0,n.useState)([]),t=(0,n.useCallback)((e=>{i(e.map((e=>{const i=new FileReader;return i.onabort=()=>console.log("file reading was aborted"),i.onerror=()=>console.log("file reading has failed"),i.onload=()=>{const e=i.result;console.log(e)},i.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[i]),{getRootProps:s,getInputProps:j,isDragActive:Z}=(0,x.uI)({onDrop:t});return(0,p.jsxs)(p.Fragment,{children:[e.map((t=>{const{name:n,preview:s}=t,d=(0,c.isString)(t)?t:n;return(0,p.jsxs)(l.Z,{sx:{p:0,m:.5,width:64,height:64,borderRadius:.25,overflow:"hidden",position:"relative"},children:[(0,p.jsx)(a.Z,{variant:"outlined",component:"img",src:(0,c.isString)(t)?t:s,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",borderRadius:1}}),(0,p.jsx)(l.Z,{sx:{top:6,right:6,position:"absolute"},children:(0,p.jsx)(o.Z,{size:"small",onClick:()=>(t=>{const n=e.filter((e=>e!==t));i(n)})(t),sx:{p:"1px",color:"common.white",bgcolor:e=>(0,r.Fq)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,r.Fq)(e.palette.grey[900],.48)}},children:(0,p.jsx)(h.Z,{})})})]},d)})),(0,p.jsxs)(u,{...s(),sx:{...Z&&{opacity:.72}},children:[(0,p.jsx)("input",{...j()}),(0,p.jsx)(d.Z,{variant:"outlined",size:"large",sx:{p:2.25},children:(0,p.jsx)(m.Z,{})})]})]})}const Z=()=>(0,p.jsx)(l.Z,{sx:{display:"flex"},children:(0,p.jsx)(j,{})})},84784:(e,i,t)=>{t.d(i,{Z:()=>N});var n=t(72791),s=t(73974),r=t(697),l=t(61889),a=t(36314),o=t(24518),d=t(20890),c=t(94721),x=t(42195),h=t.n(x),m=t(13967),p=t(57621),u=t(22646),j=t(37267),Z=t(80184);const g=t(5242),v=e=>{let{comment:i,profile:t}=e;const n=(0,m.Z)();return(0,Z.jsx)(p.Z,{sx:{background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],p:1.5,mt:1.25},children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(u.Z,{sx:{width:24,height:24},size:"sm",alt:"User 1",src:t&&t.avatar&&g(`./${t.avatar}`)})}),(0,Z.jsx)(l.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(d.Z,{align:"left",variant:"h5",component:"div",children:t.name})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsxs)(d.Z,{align:"left",variant:"caption",children:[(0,Z.jsx)(j.Z,{sx:{width:10,height:10,opacity:.5,my:0,mx:.625}}),t.time]})})]})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sx:{"&.MuiGrid-root":{pt:1.5}},children:(0,Z.jsx)(d.Z,{align:"left",variant:"body2",children:null===i||void 0===i?void 0:i.comment})})]})})};var P=t(48550),b=t(84648),y=t(68096),f=t(38289),w=t(85523),I=t(61419),C=t(58406),k=t(23786),D=t(60579),S=t(71652),W=t(21193),M=t(8007),z=t(92506),F=t(81846),A=t(15542),O=t(87204),R=t(36517),T=t(33608);const $=t(5242),q=M.Ry({title:M.Z_().required("Task title is required"),dueDate:M.hT()}),E=e=>{let{item:i,profiles:t,userStory:n,columns:s,handleDrawerOpen:a}=e;const c=(0,R.I0)(),{items:x}=(0,R.v9)((e=>e.kanban)),h=n.filter((e=>e.itemIds.filter((e=>e===i.id))[0]))[0],m=s.filter((e=>e.itemIds.filter((e=>e===i.id))[0]))[0],p=(0,z.TA)({enableReinitialize:!0,initialValues:{id:i.id,title:i.title,assign:i.assign,priority:i.priority,dueDate:i.dueDate?new Date(i.dueDate):new Date,description:i.description,commentIds:i.commentIds,image:i.image,storyId:h?h.id:"",columnId:m?m.id:"",attachments:i.attachments},validationSchema:q,onSubmit:e=>{const i={id:e.id,title:e.title,assign:e.assign,priority:e.priority,dueDate:e.dueDate?new Date(e.dueDate):new Date,description:e.description,commentIds:e.commentIds,image:e.image,attachments:e.attachments};c((0,T.Ob)(e.columnId,s,i,x,e.storyId,n)),c((0,O.ss)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),a()}});return(0,Z.jsx)("form",{onSubmit:p.handleSubmit,children:(0,Z.jsx)(S._,{dateAdapter:D.H,children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(P.Z,{fullWidth:!0,id:"title",name:"title",label:"Title",value:p.values.title,onChange:p.handleChange,error:p.touched.title&&Boolean(p.errors.title),helperText:p.touched.title&&p.errors.title})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"Assign to:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(l.ZP,{container:!0,justifyContent:"flex-start",children:(0,Z.jsx)(b.Z,{id:"assign",value:t.find((e=>e.id===p.values.assign)),onChange:(e,i)=>{p.setFieldValue("assign",null===i||void 0===i?void 0:i.id)},options:t,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===p.values.assign,renderOption:(e,i)=>(0,Z.jsxs)(r.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,Z.jsx)("img",{loading:"lazy",width:"20",src:$(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,Z.jsx)(P.Z,{...e,name:"assign",label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"Prioritize:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(y.Z,{children:(0,Z.jsxs)(f.Z,{row:!0,"aria-label":"color",value:p.values.priority,onChange:p.handleChange,name:"priority",id:"priority",children:[(0,Z.jsx)(w.Z,{value:"low",control:(0,Z.jsx)(I.Z,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,Z.jsx)(w.Z,{value:"medium",control:(0,Z.jsx)(I.Z,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,Z.jsx)(w.Z,{value:"high",control:(0,Z.jsx)(I.Z,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"Due date:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(W.$,{label:"Due Date",value:p.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{p.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"Description:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(P.Z,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:p.values.description,onChange:p.handleChange,error:p.touched.description&&Boolean(p.errors.description),helperText:p.touched.description&&p.errors.description})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"User Story:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(y.Z,{fullWidth:!0,children:(0,Z.jsx)(C.Z,{id:"storyId",name:"storyId",displayEmpty:!0,value:p.values.storyId,onChange:p.handleChange,inputProps:{"aria-label":"Without label"},children:n.map(((e,i)=>(0,Z.jsxs)(k.Z,{value:e.id,children:[e.id," - ",e.title]},i)))})})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"State:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(y.Z,{fullWidth:!0,children:(0,Z.jsx)(C.Z,{id:"columnId",name:"columnId",displayEmpty:!0,value:p.values.columnId,onChange:p.handleChange,inputProps:{"aria-label":"Without label"},children:s.map(((e,i)=>(0,Z.jsx)(k.Z,{value:e.id,children:e.title},i)))})})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(d.Z,{variant:"subtitle1",children:"Attachments:"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,sm:8,children:(0,Z.jsx)(F.Z,{attachments:p.values.attachments})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(A.Z,{children:(0,Z.jsx)(o.Z,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})};var B=t(33545),H=t(77154),U=t(31400),V=t(10717),L=t(31235);const _=new B.Chance,G=e=>{let{itemId:i}=e;const t=(0,m.Z)(),s=(0,R.I0)(),{borderRadius:a}=(0,H.Z)(),{comments:d,items:c}=(0,R.v9)((e=>e.kanban)),[x,h]=(0,n.useState)(""),[p,u]=(0,n.useState)(!1),j=()=>{if(x.length>0){const e={id:`${_.integer({min:1e3,max:9999})}`,comment:x,profileId:"profile-1"};s((0,T.$B)(i,e,c,d)),s((0,O.ss)({open:!0,message:"Comment Add successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})),h("")}else u(!0)};return(0,Z.jsx)(r.Z,{sx:{p:2.5,border:"1px solid",borderColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.primary[200]+75,borderRadius:`${a}px`},children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:.5,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(P.Z,{fullWidth:!0,placeholder:"Add Comment",value:x,onChange:e=>{const i=e.target.value;h(i),i.length<=0?u(!0):u(!1)},sx:{mb:2,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent"}},onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||j()},helperText:p?"Comment is required.":"",error:p})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add photo",children:(0,Z.jsx)(U.Z,{})})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"attachment",children:(0,Z.jsx)(V.Z,{})})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(o.Z,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file for your google drive",children:(0,Z.jsx)(L.Z,{})})}),(0,Z.jsx)(l.ZP,{item:!0,xs:!0,zeroMinWidth:!0}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(o.Z,{variant:"contained",color:"primary",onClick:j,children:"Comment"})})]})})};var K=t(79984),X=t(68036),Y=t(80022);const N=()=>{let e,i=(0,Z.jsx)(Z.Fragment,{});const t=(0,R.I0)(),x=(0,R.v9)((e=>e.kanban)),{columns:m,comments:p,profiles:u,items:j,selectedItem:g,userStory:P}=x,[b,y]=(0,n.useState)(!1!==g),f=()=>{y((e=>!e)),t((0,T.Gh)(!1))};var w;((0,n.useEffect)((()=>{!1!==g&&y(!0)}),[g]),!1!==g)&&(e=j.filter((e=>e.id===g))[0],null!==(w=e)&&void 0!==w&&w.commentIds&&(i=[...e.commentIds].reverse().map(((e,i)=>{const t=p.filter((i=>i.id===e))[0],n=u.filter((e=>e.id===t.profileId))[0];return(0,Z.jsx)(v,{comment:t,profile:n},i)}))));const[I,C]=(0,n.useState)(!1);return(0,Z.jsx)(s.ZP,{sx:{ml:b?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:b,ModalProps:{keepMounted:!0},onClose:f,children:b&&(0,Z.jsxs)(Z.Fragment,{children:[e&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{sx:{p:3},children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",spacing:.5,justifyContent:"space-between",children:[(0,Z.jsx)(l.ZP,{item:!0,sx:{width:"calc(100% - 50px)"},children:(0,Z.jsxs)(a.Z,{direction:"row",spacing:.5,alignItems:"center",children:[(0,Z.jsx)(o.Z,{variant:"text",color:"error",sx:{p:.5,minWidth:32,display:{xs:"block",md:"none"}},onClick:f,children:(0,Z.jsx)(Y.Z,{})}),(0,Z.jsx)(d.Z,{variant:"h4",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle"},children:e.title})]})}),(0,Z.jsxs)(l.ZP,{item:!0,children:[(0,Z.jsx)(o.Z,{variant:"text",color:"error",sx:{p:.5,minWidth:32},onClick:()=>C(!0),children:(0,Z.jsx)(X.Z,{})}),(0,Z.jsx)(K.Z,{title:e.title,open:I,handleClose:i=>{C(!1),i&&(f(),t((0,T.wz)(e.id,j,m,P)),t((0,O.ss)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))}})]})]})}),(0,Z.jsx)(c.Z,{}),(0,Z.jsx)(h(),{component:"div",children:(0,Z.jsx)(r.Z,{sx:{p:3},children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(E,{item:e,profiles:u,userStory:P,columns:m,handleDrawerOpen:f})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:i}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(G,{itemId:g})})]})})})]}),!e&&(0,Z.jsx)(a.Z,{justifyContent:"center",alignItems:"center",sx:{height:"100vh"},children:(0,Z.jsx)(d.Z,{variant:"h5",color:"error",children:"No item found"})})]})})}}}]);
//# sourceMappingURL=9395.ddd7a652.chunk.js.map