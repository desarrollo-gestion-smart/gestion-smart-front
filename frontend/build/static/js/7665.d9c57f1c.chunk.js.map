{"version":3,"file":"static/js/7665.d9c57f1c.chunk.js","mappings":"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","sources":["views/whatsapp/template-messages/validateNumber.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Box, Typography, ThemeProvider, createTheme, Autocomplete } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom'; // Importamos useNavigate\r\n\r\n// Custom theme\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#25D366', // WhatsApp green\r\n    },\r\n    secondary: {\r\n      main: '#34B7F1', // WhatsApp blue\r\n    },\r\n  },\r\n});\r\n\r\nconst countryCodes = [\r\n  { \"code\": \"+1\", \"label\": \"USA/Canada (+1)\" },\r\n  { \"code\": \"+44\", \"label\": \"UK (+44)\" },\r\n  { \"code\": \"+91\", \"label\": \"India (+91)\" },\r\n  { \"code\": \"+81\", \"label\": \"Japan (+81)\" },\r\n  { \"code\": \"+54\", \"label\": \"Argentina (+54)\" },\r\n  { \"code\": \"+55\", \"label\": \"Brazil (+55)\" },\r\n  { \"code\": \"+56\", \"label\": \"Chile (+56)\" },\r\n  { \"code\": \"+57\", \"label\": \"Colombia (+57)\" },\r\n  { \"code\": \"+58\", \"label\": \"Venezuela (+58)\" },\r\n  { \"code\": \"+52\", \"label\": \"Mexico (+52)\" },\r\n];\r\n\r\n\r\nconst WhatsAppVerifier = () => {\r\n  const [countryCode, setCountryCode] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async () => {\r\n    if (phoneNumber && countryCode) {\r\n      const fullPhoneNumber = `${countryCode}${phoneNumber}`;\r\n\r\n      try {\r\n        const response = await fetch(`http://localhost:5001/api/verify/${fullPhoneNumber}`, {\r\n          method: 'POST',\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          setSuccess(true);\r\n          setMessage(`El código ha sido enviado a ${fullPhoneNumber}`);\r\n          navigate('/whatsapp/verificationCode', { state: { phoneNumber: fullPhoneNumber } }); // Redirigir a la página de verificación\r\n        } else {\r\n          setError(true);\r\n          setMessage(data.error || 'Hubo un error al enviar el código.');\r\n        }\r\n      } catch (error) {\r\n        setError(true);\r\n        setMessage('Hubo un error con la conexión al servidor.');\r\n      }\r\n    } else {\r\n      setError(true);\r\n      setMessage('Por favor, ingresa un número de WhatsApp válido con el código de país.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" sx={{ backgroundColor: 'background.default', minHeight: '100vh', padding: '20px' }}>\r\n        <Typography variant=\"h4\" gutterBottom>Verificar número de WhatsApp</Typography>\r\n        <Box sx={{ width: '100%', maxWidth: 400 }}>\r\n          <Autocomplete\r\n            value={countryCode ? { code: countryCode, label: `Selecciona tu país` } : null}\r\n            onChange={(event, newValue) => setCountryCode(newValue ? newValue.code : '')}\r\n            options={[{ code: '', label: 'Selecciona tu país' }, ...countryCodes]}\r\n            getOptionLabel={(option) => option.label}\r\n            renderInput={(params) => <TextField {...params} label=\"Selecciona tu país\" variant=\"outlined\" fullWidth />}\r\n            sx={{ marginBottom: '20px' }}\r\n          />\r\n          <TextField\r\n            label=\"Número de WhatsApp\"\r\n            variant=\"outlined\"\r\n            value={phoneNumber}\r\n            onChange={(e) => setPhoneNumber(e.target.value)}\r\n            fullWidth\r\n            sx={{ marginBottom: '20px' }}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n            Enviar Código\r\n          </Button>\r\n          {message && <Box sx={{ marginTop: '20px', color: success ? 'green' : 'red' }}><Typography variant=\"body1\">{message}</Typography></Box>}\r\n        </Box>\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default WhatsAppVerifier;"],"names":["theme","createTheme","palette","primary","main","secondary","countryCodes","WhatsAppVerifier","countryCode","setCountryCode","useState","phoneNumber","setPhoneNumber","message","setMessage","success","setSuccess","error","setError","navigate","useNavigate","_jsx","ThemeProvider","children","_jsxs","Box","display","flexDirection","alignItems","justifyContent","sx","backgroundColor","minHeight","padding","Typography","variant","gutterBottom","width","maxWidth","Autocomplete","value","code","label","onChange","event","newValue","options","getOptionLabel","option","renderInput","params","TextField","fullWidth","marginBottom","e","target","Button","color","onClick","async","fullPhoneNumber","response","fetch","method","data","json","ok","state","marginTop"],"sourceRoot":""}