"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[1592],{56809:(e,t,a)=>{a.d(t,{Z:()=>r});a(72791);const r=a.p+"static/media/img-a2-login.71d02bdaedf42e8dcf0e11c36ba390c9.svg"},98393:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(36314),o=a(20890),i=a(50533),s=a(80184);const n=()=>(0,s.jsx)(r.Z,{direction:"row",justifyContent:"space-between",children:(0,s.jsx)(o.Z,{variant:"subtitle2",component:i.Z,href:"#",target:"_blank",underline:"hover",children:"version 1.0.8"})})},73997:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(61889),o=a(20890),i=a(95717),s=a(80184);const n=e=>{let{items:t}=e;return(0,s.jsx)(i.Z,{autoplay:!0,arrows:!1,dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,children:t.map(((e,t)=>(0,s.jsxs)(r.ZP,{container:!0,direction:"column",alignItems:"center",spacing:3,textAlign:"center",children:[(0,s.jsx)(r.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"h1",children:e.title})}),(0,s.jsx)(r.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",children:e.description})})]},t)))})}},9079:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(13967),o=a(697);a(72791);const i=a.p+"static/media/img-a2-grid.51f4cf81eebe78b958762e6957c4b3a0.svg";const s=a.p+"static/media/img-a2-grid-dark.ee5f31a9be57732a305c35fbd1ea5ea3.svg";var n=a(80184);const l=e=>{let{children:t}=e;const a=(0,r.Z)();return(0,n.jsx)(o.Z,{component:"span",sx:{display:"flex",minHeight:"100%",height:"100vh",bgcolor:"dark"===a.palette.mode?a.palette.dark.dark:"#fff",backgroundImage:"dark"===a.palette.mode?`url(${s})`:`url(${i})`,position:"absolute",backgroundPosition:"bottom left",backgroundRepeat:"no-repeat",overflow:"hidden",m:"0 0 0 auto",p:"100px 0",top:0,left:0,right:0,bottom:0,"& > *":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",top:0,left:0,right:0,zIndex:1,bottom:0,bgcolor:"dark"===a.palette.mode?a.palette.dark.dark:a.palette.grey[100],opacity:"dark"===a.palette.mode?.85:.9}},children:t})}},45290:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(697),o=a(23735),i=a(80184);const s=e=>{let{children:t,...a}=e;return(0,i.jsx)(o.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...a,children:(0,i.jsx)(r.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:t})})}},51281:(e,t,a)=>{a.d(t,{Z:()=>r});const r=(0,a(66934).ZP)("div")((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.background.paper,minHeight:"100vh",[t.breakpoints.down("lg")]:{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[100]}}}))},60517:(e,t,a)=>{a.d(t,{Z:()=>h});a(72791);var r=a(57689),o=a(92506),i=a(8007),s=a(68096),n=a(30829),l=a(77196),d=a(47071),c=a(697),m=a(20890),p=a(24518),u=a(80184);const h=()=>{const e=(0,r.s0)();return(0,u.jsx)(o.J9,{initialValues:{email:"",password:""},validationSchema:i.Ry().shape({email:i.Z_().email("Debe ser un email v\xe1lido").max(255).required("El email es obligatorio"),password:i.Z_().max(255).required("La contrase\xf1a es obligatoria")}),onSubmit:async(t,a)=>{let{setErrors:r,setSubmitting:o}=a;try{const a=await fetch("https://gestion-smart.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok){const{token:t,user:o}=await a.json();if(console.log("Token recibido:",t),t){localStorage.setItem("token",t);const a=o.id;localStorage.setItem("userId",a),console.log("Token guardado en localStorage:",t),console.log("UserId",a),e("/dashboard/default")}else r({submit:"No se recibi\xf3 un token v\xe1lido. Int\xe9ntalo de nuevo."})}else r({submit:"Usuario o contrase\xf1a incorrectos."});o(!1)}catch(i){console.error("Error en el login:",i.message),r({submit:i.message}),o(!1)}},children:e=>{let{errors:t,handleBlur:a,handleChange:r,handleSubmit:o,isSubmitting:i,touched:h,values:g}=e;return(0,u.jsxs)("form",{noValidate:!0,onSubmit:o,children:[(0,u.jsxs)(s.Z,{fullWidth:!0,error:Boolean(h.email&&t.email),sx:{marginBottom:"16px",marginLeft:"50px"},children:[(0,u.jsx)(n.Z,{children:"Email"}),(0,u.jsx)(l.Z,{id:"email",type:"email",value:g.email,name:"email",onBlur:a,onChange:r,sx:{color:"#000",width:"20rem",borderRadius:"12px"}}),h.email&&t.email&&(0,u.jsx)(d.Z,{children:t.email})]}),(0,u.jsxs)(s.Z,{fullWidth:!0,error:Boolean(h.password&&t.password),sx:{marginLeft:"50px"},children:[(0,u.jsx)(n.Z,{children:"Contrase\xf1a"}),(0,u.jsx)(l.Z,{id:"password",type:"password",value:g.password,name:"password",onBlur:a,onChange:r,sx:{color:"#000",width:"20rem",borderRadius:"12px"}}),h.password&&t.password&&(0,u.jsx)(d.Z,{children:t.password})]}),t.submit&&(0,u.jsx)(c.Z,{sx:{marginTop:"16px"},children:(0,u.jsx)(m.Z,{color:"error",children:t.submit})}),(0,u.jsx)(c.Z,{sx:{marginTop:"16px",width:"20rem"},children:(0,u.jsx)(p.Z,{sx:{backgroundColor:"#97C703",borderRadius:"12px",marginLeft:"50px","&:hover":{backgroundColor:"#85B502"}},color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Iniciar Sesi\xf3n"})})]})}})}}}]);
//# sourceMappingURL=1592.2b7e6ffe.chunk.js.map