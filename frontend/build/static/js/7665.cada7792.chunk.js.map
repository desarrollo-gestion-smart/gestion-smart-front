{"version":3,"file":"static/js/7665.cada7792.chunk.js","mappings":"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","sources":["views/whatsapp/template-messages/validateNumber.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Box, Typography, ThemeProvider, createTheme } from '@mui/material';\r\n\r\n// Custom theme\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#25D366', // WhatsApp green\r\n    },\r\n    secondary: {\r\n      main: '#34B7F1', // WhatsApp blue\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: 'Roboto, sans-serif',\r\n  },\r\n});\r\n\r\nconst WhatsAppVerifier = () => {\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [pairingCode, setPairingCode] = useState('');\r\n  const [invitation, setInvitation] = useState('');\r\n\r\n  const handleSubmit = async () => {\r\n    if (phoneNumber) {\r\n      const userId = localStorage.getItem('userId');\r\n      if (!userId) {\r\n        setError(true);\r\n        setMessage('No se ha encontrado el ID de usuario en el almacenamiento.');\r\n        return;\r\n      }\r\n\r\n      const number = phoneNumber; // Se envía sin el '+'\r\n\r\n      console.log('Información que se va a enviar:', { id: userId, number });\r\n\r\n      try {\r\n        const verifyRequest = fetch('https://backend-api-whatsapp-production.up.railway.app/api/v1/instances/create', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ id: userId, number }),\r\n        });\r\n\r\n        const verifyResponse = await verifyRequest;\r\n        const verifyData = await verifyResponse.json();\r\n\r\n        if (verifyResponse.ok && verifyData) {\r\n          setSuccess(true);\r\n          setMessage(`El código ha sido enviado a ${number}`);\r\n          setPairingCode(verifyData.message.pairingCode || 'No pairing code');\r\n          setInvitation(verifyData.invitation || '');\r\n        } else {\r\n          setError(true);\r\n          setMessage(verifyData?.error || 'Hubo un error al enviar el código.');\r\n        }\r\n      } catch (error) {\r\n        setError(true);\r\n        setMessage('Hubo un error con la conexión al servidor.');\r\n        console.error(error);\r\n      }\r\n    } else {\r\n      setError(true);\r\n      setMessage('Por favor, ingresa un número de WhatsApp válido.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        sx={{\r\n          backgroundColor: '#f5f5f5',\r\n          minHeight: '100vh',\r\n          padding: '20px',\r\n          fontFamily: 'Roboto, sans-serif',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          sx={{\r\n            color: '#97C703',\r\n            fontWeight: 'bold',\r\n            marginBottom: '30px',\r\n          }}\r\n        >\r\n          Verificar número de WhatsApp\r\n        </Typography>\r\n        <Box\r\n          sx={{\r\n            width: '100%',\r\n            maxWidth: 400,\r\n            padding: '30px',\r\n            backgroundColor: '#ffffff',\r\n            boxShadow: '0 4px 10px rgba(0, 0, 0, 0.1)',\r\n            borderRadius: '8px',\r\n          }}\r\n        >\r\n          <Box\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            sx={{\r\n              border: '2px solid #ddd',\r\n              borderRadius: '5px',\r\n              padding: '10px',\r\n              marginBottom: '20px',\r\n              backgroundColor: '#fafafa',\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"body1\"\r\n              sx={{\r\n                marginRight: '8px',\r\n                fontWeight: 'bold',\r\n                fontSize: '18px',\r\n                color: '#555',\r\n              }}\r\n            >\r\n              +\r\n            </Typography>\r\n            <TextField\r\n              placeholder=\"ej: 541123654789\"\r\n              variant=\"standard\"\r\n              value={phoneNumber}\r\n              onChange={(e) => setPhoneNumber(e.target.value.replace(/[^0-9]/g, ''))} // Solo números\r\n              fullWidth\r\n              InputProps={{\r\n                disableUnderline: true,\r\n                style: { fontSize: '16px', padding: '5px 0' },\r\n              }}\r\n              sx={{\r\n                '& input::placeholder': {\r\n                  fontStyle: 'italic',\r\n                  color: '#aaa',\r\n                },\r\n              }}\r\n            />\r\n          </Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSubmit}\r\n            fullWidth\r\n            sx={{\r\n              padding: '10px 0',\r\n              fontSize: '16px',\r\n              fontWeight: 'bold',\r\n              textTransform: 'none',\r\n              borderRadius: '5px',\r\n            }}\r\n          >\r\n            Enviar Código\r\n          </Button>\r\n          {message && (\r\n            <Box\r\n              sx={{\r\n                marginTop: '20px',\r\n                padding: '10px',\r\n                backgroundColor: '#F9F9F9',\r\n                color: '#000',\r\n                borderRadius: '5px',\r\n                fontSize: '16px',\r\n              }}\r\n            >\r\n              <Typography variant=\"body1\">{message}</Typography>\r\n            </Box>\r\n          )}\r\n          {pairingCode && (\r\n            <Box\r\n              sx={{\r\n                marginTop: '20px',\r\n                padding: '10px',\r\n                backgroundColor: '#F9F9F9',\r\n                color: '#000',\r\n                borderRadius: '5px',\r\n                fontSize: '16px',\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\">Ingrese este codigo en su Whatsapp: {pairingCode}</Typography>\r\n            </Box>\r\n          )}\r\n          {invitation && (\r\n            <Box\r\n              sx={{\r\n                marginTop: '20px',\r\n                padding: '10px',\r\n                backgroundColor: '#F9F9F9',\r\n                color: '#000',\r\n                borderRadius: '5px',\r\n                fontSize: '16px',\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\">\r\n                <a href={invitation} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#000', textDecoration: 'none' }}>\r\n                  Invitación WhatsApp\r\n                </a>\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default WhatsAppVerifier;\r\n"],"names":["theme","createTheme","palette","primary","main","secondary","typography","fontFamily","WhatsAppVerifier","phoneNumber","setPhoneNumber","useState","message","setMessage","success","setSuccess","error","setError","pairingCode","setPairingCode","invitation","setInvitation","_jsx","ThemeProvider","children","_jsxs","Box","display","flexDirection","alignItems","justifyContent","sx","backgroundColor","minHeight","padding","Typography","variant","gutterBottom","color","fontWeight","marginBottom","width","maxWidth","boxShadow","borderRadius","border","marginRight","fontSize","TextField","placeholder","value","onChange","e","target","replace","fullWidth","InputProps","disableUnderline","style","fontStyle","Button","onClick","async","userId","localStorage","getItem","number","console","log","id","verifyRequest","fetch","method","headers","body","JSON","stringify","verifyResponse","verifyData","json","ok","textTransform","marginTop","href","rel","textDecoration"],"sourceRoot":""}