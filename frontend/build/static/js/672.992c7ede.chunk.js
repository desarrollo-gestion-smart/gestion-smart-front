"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[672],{672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var o=a(72791),s=a(697),n=a(20890),i=a(48550),r=a(58406),l=a(23786),d=a(24518),c=a(80184);const p=()=>{const[e,t]=(0,o.useState)([]),[a,p]=(0,o.useState)({}),[u,m]=(0,o.useState)(""),[b,g]=(0,o.useState)("");(0,o.useEffect)((()=>{console.log("Montando el componente y solicitando plantillas al backend..."),fetch("http://localhost:5001/api/templates").then((e=>(console.log("Respuesta recibida del backend:",e),e.json()))).then((e=>{console.log("Datos de plantillas recibidos:",e),p(e)})).catch((e=>console.error("Error al cargar plantillas:",e)))}),[]);return(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(n.Z,{variant:"h4",children:"Simulador de Chat"}),(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(i.Z,{label:"N\xfamero de Tel\xe9fono",value:b,onChange:e=>{const t=e.target.value;console.log("N\xfamero de tel\xe9fono ingresado:",t),g(t)},fullWidth:!0}),(0,c.jsxs)(r.Z,{value:u,onChange:e=>(e=>{console.log("Plantilla seleccionada:",e);const o=a[e];m(e),t([{text:o.mensajeInicial,sender:"bot"}])})(e.target.value),displayEmpty:!0,fullWidth:!0,children:[(0,c.jsx)(l.Z,{value:"",disabled:!0,children:"Selecciona una plantilla"}),Object.keys(a).map((e=>(0,c.jsx)(l.Z,{value:e,children:a[e].nombre},e)))]})]}),(0,c.jsx)(s.Z,{children:e.map(((e,t)=>(0,c.jsx)(n.Z,{style:{textAlign:"bot"===e.sender?"left":"right"},children:e.text},t)))}),u&&a[u].respuestas.map(((e,a)=>(0,c.jsx)(d.Z,{variant:"contained",onClick:()=>(e=>{console.log("Respuesta seleccionada:",e),t((t=>[...t,{text:e.texto,sender:"user"},{text:e.desencadenador?`Detalles: ${e.desencadenador}`:"No hay m\xe1s detalles.",sender:"bot"}]))})(e),style:{margin:"5px"},children:e.texto},a)))]})}},23786:(e,t,a)=>{a.d(t,{Z:()=>O});var o=a(63366),s=a(87462),n=a(72791),i=a(59278),r=a(94419),l=a(54131),d=a(66934),c=a(15070),p=a(61020),u=a(66199),m=a(95080),b=a(40162),g=a(42071),v=a(90133),h=a(96014),y=a(29849),f=a(75878),Z=a(21217);function x(e){return(0,Z.ZP)("MuiMenuItem",e)}const C=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var $=a(80184);const k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],j=(0,d.ZP)(m.Z,{shouldForwardProp:e=>(0,c.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${C.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${C.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${C.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${C.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${y.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${y.Z.inset}`]:{paddingLeft:36},[`& .${h.Z.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,s.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${h.Z.root} svg`]:{fontSize:"1.25rem"}}))})),O=n.forwardRef((function(e,t){const a=(0,p.i)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:c=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:h,role:y="menuitem",tabIndex:f,className:Z}=a,C=(0,o.Z)(a,k),O=n.useContext(u.Z),S=n.useMemo((()=>({dense:c||O.dense||!1,disableGutters:v})),[O.dense,c,v]),M=n.useRef(null);(0,b.Z)((()=>{l&&M.current&&M.current.focus()}),[l]);const w=(0,s.Z)({},a,{dense:S.dense,divider:m,disableGutters:v}),I=(e=>{const{disabled:t,dense:a,divider:o,disableGutters:n,selected:i,classes:l}=e,d={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",o&&"divider",i&&"selected"]},c=(0,r.Z)(d,x,l);return(0,s.Z)({},l,c)})(a),N=(0,g.Z)(M,t);let F;return a.disabled||(F=void 0!==f?f:-1),(0,$.jsx)(u.Z.Provider,{value:S,children:(0,$.jsx)(j,(0,s.Z)({ref:N,role:y,tabIndex:F,component:d,focusVisibleClassName:(0,i.Z)(I.focusVisible,h),className:(0,i.Z)(I.root,Z)},C,{ownerState:w,classes:I}))})}))}}]);
//# sourceMappingURL=672.992c7ede.chunk.js.map