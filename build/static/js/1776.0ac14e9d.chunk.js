"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[1776],{80928:(e,t,r)=>{r.d(t,{Z:()=>u});var l=r(72791),a=r(13967),n=r(57621),o=r(9585),i=r(20890),s=r(94721),d=r(39504),c=r(80184);const p=l.forwardRef(((e,t)=>{let{children:r,content:l,contentClass:p,darkTitle:u,secondary:h,sx:x={},contentSX:g={},title:m,...v}=e;const y=(0,a.Z)();return(0,c.jsxs)(n.Z,{ref:t,sx:{border:"1px solid",borderColor:"dark"===y.palette.mode?y.palette.dark.light+15:y.palette.grey[200],":hover":{boxShadow:"dark"===y.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"},...x},...v,children:[!u&&m&&(0,c.jsx)(o.Z,{sx:{p:2.5},title:(0,c.jsx)(i.Z,{variant:"h5",children:m}),action:h}),u&&m&&(0,c.jsx)(o.Z,{sx:{p:2.5},title:(0,c.jsx)(i.Z,{variant:"h4",children:m}),action:h}),m&&(0,c.jsx)(s.Z,{sx:{opacity:1,borderColor:"dark"===y.palette.mode?y.palette.dark.light+15:y.palette.grey[200]}}),l&&(0,c.jsx)(d.Z,{sx:{p:2.5,...g},className:p||"",children:r}),!l&&r]})}));p.defaultProps={content:!0};const u=p},21776:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var l=r(72791),a=r(43706),n=r(24518),o=r(5574),i=r(90575),s=r(49704),d=r(38217),c=r(52720),p=r(16977),u=r(74332),h=r(61889),x=r(36314),g=r(13400),m=r(20890),v=r(2199),y=r(97639),f=r(16386),Z=r(25818),b=r(88662),j=r(14522),k=r(43528),C=r(46745),w=r(59880),P=r(80184);const D=[{label:"Month",value:"dayGridMonth",icon:Z.Z},{label:"Week",value:"timeGridWeek",icon:b.Z},{label:"Day",value:"timeGridDay",icon:j.Z},{label:"Agenda",value:"listWeek",icon:k.Z}],M=e=>{let{date:t,view:r,onClickNext:o,onClickPrev:i,onClickToday:s,onChangeView:d,...c}=e;const p=(0,a.Z)((e=>e.breakpoints.down("md"))),[u,Z]=(0,l.useState)(D);return(0,l.useEffect)((()=>{let e=D;p&&(e=D.filter((e=>"dayGridMonth"!==e.value&&"timeGridWeek"!==e.value))),Z(e)}),[p]),(0,P.jsxs)(h.ZP,{alignItems:"center",container:!0,justifyContent:"space-between",spacing:3,...c,sx:{pb:3},children:[(0,P.jsx)(h.ZP,{item:!0,children:(0,P.jsx)(n.Z,{variant:"outlined",onClick:s,children:"Today"})}),(0,P.jsx)(h.ZP,{item:!0,children:(0,P.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,P.jsx)(g.Z,{onClick:i,size:"large","aria-label":"left side",children:(0,P.jsx)(C.Z,{})}),(0,P.jsx)(m.Z,{variant:"h3",color:"textPrimary",children:(0,f.Z)(t,"MMMM yyyy")}),(0,P.jsx)(g.Z,{onClick:o,size:"large","aria-label":"right side",children:(0,P.jsx)(w.Z,{})})]})}),(0,P.jsx)(h.ZP,{item:!0,children:(0,P.jsx)(v.Z,{variant:"outlined","aria-label":"outlined button group",children:u.map((e=>{const t=e.icon;return(0,P.jsx)(y.Z,{title:e.label,children:(0,P.jsx)(n.Z,{disableElevation:!0,variant:e.value===r?"contained":"outlined",onClick:()=>d(e.value),children:(0,P.jsx)(t,{stroke:"2",size:"20px"})})},e.value)}))})})]})};var S=r(13967),T=r(65661),A=r(94721),E=r(39157),R=r(48550),W=r(85523),F=r(89891),I=r(63466),B=r(47071),z=r(68096),G=r(38289),L=r(61419),V=r(97123),_=r(71652),N=r(63800),q=r(60579),H=r(763),J=r.n(H),U=r(8007),X=r(92506);const K=e=>{let{color:t,label:r,value:l}=e;return(0,P.jsx)(W.Z,{value:l,control:(0,P.jsx)(L.Z,{sx:{color:t,"&.Mui-checked":{color:t}}}),label:r||"",sx:{pr:r?1:0}})};var O=r(91923),Q=r(84979),Y=r(27247);const $=(e,t)=>{const r={title:"",description:"",color:"#2196f3",textColor:"",allDay:!1,start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date};return e||t?J().merge({},r,e):r},ee=e=>{let{event:t,range:r,handleDelete:l,handleCreate:a,handleUpdate:o,onCancel:i}=e;const s=(0,S.Z)(),d=!t,c=[{value:s.palette.primary.main,color:"primary.main",label:"Default"},{value:s.palette.error.main,color:"error.main"},{value:s.palette.success.dark,color:"success.dark"},{value:s.palette.secondary.main,color:"secondary.main"},{value:s.palette.warning.dark,color:"warning.dark"},{value:s.palette.orange.dark,color:"orange.dark"},{value:s.palette.grey[500],color:"grey.500"},{value:s.palette.primary.light,color:"primary.light"},{value:s.palette.error.light,color:"error.light"},{value:s.palette.success.light,color:"success.light"},{value:s.palette.secondary.light,color:"secondary.light"},{value:s.palette.warning.light,color:"warning.light"},{value:s.palette.orange.light,color:"orange.light"}],p=[{value:s.palette.error.light,color:"error.light",label:""},{value:s.palette.success.light,color:"success.light",label:""},{value:s.palette.secondary.light,color:"secondary.light",label:""},{value:s.palette.warning.light,color:"warning.light",label:""},{value:s.palette.orange.light,color:"orange.light",label:""},{value:s.palette.primary.light,color:"primary.light",label:""},{value:s.palette.primary.main,color:"primary.main",label:""},{value:s.palette.error.main,color:"error.main",label:""},{value:s.palette.success.dark,color:"success.dark",label:""},{value:s.palette.secondary.main,color:"secondary.main",label:""},{value:s.palette.warning.dark,color:"warning.dark",label:""},{value:s.palette.orange.dark,color:"orange.dark",label:""},{value:s.palette.grey[500],color:"grey.500",label:""}],u=U.Ry().shape({title:U.Z_().max(255).required("Title is required"),description:U.Z_().max(5e3),end:U.hT().when("start",((e,t)=>e&&t.min(e,"End date must be later than start date"))),start:U.hT(),color:U.Z_().max(255),textColor:U.Z_().max(255)}),v=(0,X.TA)({initialValues:$(t,r),validationSchema:u,onSubmit:async(e,r)=>{let{resetForm:l,setSubmitting:n}=r;try{const r={title:e.title,description:e.description,color:e.color,textColor:e.textColor,allDay:e.allDay,start:e.start,end:e.end};t?o(t.id,r):a(r),l(),i(),n(!1)}catch(s){console.error(s)}}}),{values:f,errors:Z,touched:b,handleSubmit:j,isSubmitting:k,getFieldProps:C,setFieldValue:w}=v;return(0,P.jsx)(X.Hy,{value:v,children:(0,P.jsx)(_._,{dateAdapter:q.H,children:(0,P.jsxs)(X.l0,{autoComplete:"off",noValidate:!0,onSubmit:j,children:[(0,P.jsx)(T.Z,{children:t?"Edit Event":"Add Event"}),(0,P.jsx)(A.Z,{}),(0,P.jsx)(E.Z,{sx:{p:3},children:(0,P.jsxs)(h.ZP,{container:!0,spacing:O.dv,children:[(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(R.Z,{fullWidth:!0,label:"Title",...C("title"),error:Boolean(b.title&&Z.title),helperText:b.title&&Z.title})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(R.Z,{fullWidth:!0,multiline:!0,rows:3,label:"Description",...C("description"),error:Boolean(b.description&&Z.description),helperText:b.description&&Z.description})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(W.Z,{control:(0,P.jsx)(F.Z,{checked:f.allDay,...C("allDay")}),label:"All day"})}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,P.jsx)(N.W,{label:"Start date",value:f.start,format:"dd/MM/yyyy hh:mm a",onChange:e=>w("start",e),slotProps:{textField:{InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",sx:{cursor:"pointer"},children:(0,P.jsx)(Q.Z,{})})}}}}),b.start&&Z.start&&(0,P.jsx)(B.Z,{error:!0,children:Z.start})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,P.jsx)(N.W,{label:"End date",value:f.end,format:"dd/MM/yyyy hh:mm a",onChange:e=>w("end",e),slotProps:{textField:{InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",sx:{cursor:"pointer"},children:(0,P.jsx)(Q.Z,{})})}}}}),b.end&&Z.end&&(0,P.jsx)(B.Z,{error:!0,children:Z.end})]}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(m.Z,{variant:"subtitle1",children:"Background Color"})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(z.Z,{children:(0,P.jsx)(G.Z,{row:!0,"aria-label":"color",...C("color"),onChange:e=>w("color",e.target.value),name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:c.map(((e,t)=>(0,P.jsx)(K,{value:e.value,color:e.color,label:e.label},t)))})})})]})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(m.Z,{variant:"subtitle1",children:"Text Color"})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,children:(0,P.jsx)(z.Z,{component:"fieldset",children:(0,P.jsxs)(G.Z,{row:!0,"aria-label":"textColor",...C("textColor"),onChange:e=>w("textColor",e.target.value),name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:[(0,P.jsx)(W.Z,{value:"",control:(0,P.jsx)(L.Z,{color:"default"}),label:"Default",sx:{pr:1}}),p.map(((e,t)=>(0,P.jsx)(K,{value:e.value,color:e.color,label:e.label},t)))]})})})]})})]})}),(0,P.jsx)(V.Z,{sx:{p:3},children:(0,P.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(h.ZP,{item:!0,children:!d&&(0,P.jsx)(y.Z,{title:"Delete Event",children:(0,P.jsx)(g.Z,{onClick:()=>l(null===t||void 0===t?void 0:t.id),size:"large",children:(0,P.jsx)(Y.Z,{color:"error"})})})}),(0,P.jsx)(h.ZP,{item:!0,children:(0,P.jsxs)(x.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,P.jsx)(n.Z,{type:"button",variant:"outlined",onClick:i,children:"Cancel"}),(0,P.jsx)(n.Z,{type:"submit",variant:"contained",disabled:k,children:t?"Edit":"Add"})]})})]})})]})})})};const te=(0,r(66934).ZP)("div")((e=>{let{theme:t}=e;return{"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":"dark"===t.palette.mode?t.palette.dark[800]:t.palette.primary.light,"--fc-list-event-dot-width":"10px","--fc-event-border-color":t.palette.primary.dark,"--fc-now-indicator-color":t.palette.error.main,color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[50]},"& .fc .fc-col-header-cell-cushion":{color:t.palette.grey[900],padding:16},"& .fc-theme-standard .fc-list":{overflowX:"auto"},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-direction-ltr .fc-daygrid-event.fc-event-start, .fc-direction-rtl .fc-daygrid-event.fc-event-end":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:"14px"},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],color:"dark"===t.palette.mode?t.palette.dark.light:t.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[100]},"& .fc .fc-list-event:hover td":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2}}}));var re=r(75473),le=r(23735),ae=r(80928),ne=r(36517),oe=r(33849),ie=r(70828);const se=()=>{const e=(0,ne.I0)(),t=(0,l.useRef)(null),r=(0,a.Z)((e=>e.breakpoints.down("md"))),[h,x]=(0,l.useState)(!0),[g,m]=(0,l.useState)([]),v=(0,ne.v9)((e=>e.calendar));(0,l.useEffect)((()=>{e((0,oe.vw)()).then((()=>x(!1)))}),[]),(0,l.useEffect)((()=>{m(v.events)}),[v]);const[y,f]=(0,l.useState)(new Date),[Z,b]=(0,l.useState)(r?"listWeek":"dayGridMonth"),j=e=>{const r=t.current;if(r){r.getApi().changeView(e),b(e)}};(0,l.useEffect)((()=>{j(r?"listWeek":"dayGridMonth")}),[r]);const[k,C]=(0,l.useState)(!1),[w,D]=(0,l.useState)(null),[S,T]=(0,l.useState)(null),A=async t=>{let{event:r}=t;try{e((0,oe.eJ)({eventId:r.id,update:{allDay:r.allDay,start:r.start,end:r.end}}))}catch(l){console.error(l)}},E=()=>{C(!1),T(null),D(null)};return h?(0,P.jsx)(re.Z,{}):(0,P.jsxs)(le.Z,{title:"Event Calendar",secondary:(0,P.jsxs)(n.Z,{color:"secondary",variant:"contained",onClick:()=>{C(!0)},children:[(0,P.jsx)(ie.Z,{fontSize:"small",sx:{mr:.75}}),"Add New Event"]}),children:[(0,P.jsxs)(te,{children:[(0,P.jsx)(M,{date:y,view:Z,onClickNext:()=>{const e=t.current;if(e){const t=e.getApi();t.next(),f(t.getDate())}},onClickPrev:()=>{const e=t.current;if(e){const t=e.getApi();t.prev(),f(t.getDate())}},onClickToday:()=>{const e=t.current;if(e){const t=e.getApi();t.today(),f(t.getDate())}},onChangeView:j}),(0,P.jsx)(ae.Z,{children:(0,P.jsx)(i.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:g,ref:t,rerenderDelay:10,initialDate:y,initialView:Z,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:e=>{const r=t.current;if(r){r.getApi().unselect()}D({start:e.start,end:e.end}),C(!0)},eventDrop:A,eventClick:e=>{if(e.event.id){const t=g.find((t=>t.id===e.event.id));T(t)}else T(null);C(!0)},eventResize:A,height:r?"auto":720,plugins:[s.Z,d.Z,p.Z,c.Z,u.ZP]})})]}),(0,P.jsx)(o.Z,{maxWidth:"sm",fullWidth:!0,onClose:E,open:k,sx:{"& .MuiDialog-paper":{p:0}},children:k&&(0,P.jsx)(ee,{event:S,range:w,onCancel:E,handleDelete:async t=>{try{e((0,oe.xC)(t)),E()}catch(r){console.error(r)}},handleCreate:async t=>{e((0,oe.vP)(t)),E()},handleUpdate:async(t,r)=>{e((0,oe.eJ)({eventId:t,update:r})),E()}})})]})}}}]);
//# sourceMappingURL=1776.0ac14e9d.chunk.js.map